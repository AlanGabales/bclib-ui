"use strict";(self.webpackChunkbclib_ui=self.webpackChunkbclib_ui||[]).push([[887],{5887:(tt,T,o)=>{o.r(T),o.d(T,{CATEGORYS_ROUTES:()=>V});var u=o(2787),h=o(1374),d=o(5195),p=o(2296),f=o(2032),l=o(9157),m=o(5313),C=o(3365),g=o(3566),_=o(617),b=o(3307),t=o(5879),U=o(70);function N(e,a){1&e&&(t.TgZ(0,"th",17),t._uU(1," ID "),t.qZA())}function x(e,a){if(1&e&&(t.TgZ(0,"td",18),t._uU(1),t.qZA()),2&e){const n=a.$implicit;t.xp6(1),t.hij(" ",n.id," ")}}function S(e,a){1&e&&(t.TgZ(0,"th",17),t._uU(1," Name "),t.qZA())}function q(e,a){if(1&e&&(t.TgZ(0,"td",18),t._uU(1),t.qZA()),2&e){const n=a.$implicit;t.xp6(1),t.hij(" ",n.name," ")}}function Y(e,a){1&e&&(t.TgZ(0,"th",17),t._uU(1," Code "),t.qZA())}function E(e,a){if(1&e&&(t.TgZ(0,"td",18),t._uU(1),t.qZA()),2&e){const n=a.$implicit;t.xp6(1),t.hij(" ",n.code," ")}}function Q(e,a){1&e&&(t.TgZ(0,"th",17),t._uU(1," Status "),t.qZA())}function J(e,a){if(1&e&&(t.TgZ(0,"td",18),t._uU(1),t.qZA()),2&e){const n=a.$implicit;t.xp6(1),t.hij(" ",n.status," ")}}function L(e,a){1&e&&(t.TgZ(0,"th",19),t._uU(1," Action "),t.qZA())}function D(e,a){if(1&e&&(t.TgZ(0,"td",18)(1,"a",20),t._uU(2,"Edit"),t.qZA()()),2&e){const n=a.$implicit;t.xp6(1),t.MGl("routerLink","edit/",n.id,"")}}function I(e,a){1&e&&t._UZ(0,"tr",21)}function O(e,a){1&e&&t._UZ(0,"tr",22)}const M=function(){return[10,20,50]};let P=(()=>{class e{constructor(n){this.categoryService=n,this.displayedColumns=["id","name","code","status","action"]}ngOnInit(){this.getCategorys()}getCategorys(){this.categoryService.getAll().pipe((0,h.P)()).subscribe(n=>{this.categorys=n,this.dataSource=new m.by(this.categorys),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}filterChange(n){this.dataSource.filter=n.target.value}exportTable(){b.E.exportTableToExcel("categorys","Categorys")}static#t=this.\u0275fac=function(r){return new(r||e)(t.Y36(U.H))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["category-list-component"]],viewQuery:function(r,i){if(1&r&&(t.Gf(C.NW,5),t.Gf(g.YE,5)),2&r){let c;t.iGM(c=t.CRH())&&(i.paginator=c.first),t.iGM(c=t.CRH())&&(i.sort=c.first)}},standalone:!0,features:[t.jDz],decls:34,vars:6,consts:[[2,"margin","1%"],[2,"margin-top","1%","margin-left","1%"],["matInput","","placeholder","Search here...",3,"keyup"],["routerLink","add","mat-raised-button","","color","primary",2,"margin-left","74%"],["mat-raised-button","","color","warn",2,"margin-left","1%",3,"click"],["id","categorys","mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","id"],["mat-sort-header","","mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","code"],["matColumnDef","status"],["matColumnDef","action"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSize","pageSizeOptions"],["mat-sort-header","","mat-header-cell",""],["mat-cell",""],["mat-header-cell",""],[1,"btn","btn-sm","btn-primary","me-1",3,"routerLink"],["mat-header-row",""],["mat-row",""]],template:function(r,i){1&r&&(t.TgZ(0,"mat-card",0)(1,"h2",1),t._uU(2,"Categories"),t.qZA(),t.TgZ(3,"mat-card-header")(4,"mat-form-field")(5,"input",2),t.NdJ("keyup",function(Z){return i.filterChange(Z)}),t.qZA()(),t.TgZ(6,"button",3),t._uU(7,"Create"),t.qZA(),t.TgZ(8,"button",4),t.NdJ("click",function(){return i.exportTable()}),t.TgZ(9,"mat-icon"),t._uU(10,"grid_on"),t.qZA(),t._uU(11,"Export"),t.qZA()(),t.TgZ(12,"mat-card-content")(13,"table",5),t.ynx(14,6),t.YNc(15,N,2,0,"th",7),t.YNc(16,x,2,1,"td",8),t.BQk(),t.ynx(17,9),t.YNc(18,S,2,0,"th",7),t.YNc(19,q,2,1,"td",8),t.BQk(),t.ynx(20,10),t.YNc(21,Y,2,0,"th",7),t.YNc(22,E,2,1,"td",8),t.BQk(),t.ynx(23,11),t.YNc(24,Q,2,0,"th",7),t.YNc(25,J,2,1,"td",8),t.BQk(),t.ynx(26,12),t.YNc(27,L,2,0,"th",13),t.YNc(28,D,3,1,"td",8),t.BQk(),t.YNc(29,I,1,0,"tr",14),t.YNc(30,O,1,0,"tr",15),t.qZA()(),t._UZ(31,"br"),t.TgZ(32,"mat-card-footer"),t._UZ(33,"mat-paginator",16),t.qZA()()),2&r&&(t.xp6(13),t.Q6J("dataSource",i.dataSource),t.xp6(16),t.Q6J("matHeaderRowDef",i.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns),t.xp6(3),t.Q6J("pageSize",10)("pageSizeOptions",t.DdM(5,M)))},dependencies:[u.rH,d.QW,d.a8,d.dn,d.rt,d.dk,p.ot,p.lW,f.c,f.Nt,l.KE,l.lN,m.p0,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,C.TU,C.NW,g.JX,g.YE,g.nU,_.Ps,_.Hw],styles:["mat-card[_ngcontent-%COMP%]{margin:2%;text-align:left}.mat-mdc-form-field[_ngcontent-%COMP%]{width:98%;margin:1%}.mat-50[_ngcontent-%COMP%]{width:48%;margin:1%}.mat-column-name[_ngcontent-%COMP%], .mat-column-description[_ngcontent-%COMP%]{width:20%}"]})}return e})();var A=o(6814),s=o(6223),B=o(8525),R=o(7296),H=o(2048),G=o(9744);function z(e,a){1&e&&(t.TgZ(0,"span"),t._uU(1,"Name is required"),t.qZA())}function j(e,a){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,z,2,0,"span",4),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.f.name.errors.required)}}function k(e,a){1&e&&(t.TgZ(0,"span"),t._uU(1,"Code is required"),t.qZA())}function w(e,a){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,k,2,0,"span",4),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.f.code.errors.required)}}function W(e,a){1&e&&(t.TgZ(0,"span"),t._uU(1,"Status is required"),t.qZA())}function X(e,a){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,W,2,0,"span",4),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.f.status.errors.required)}}function F(e,a){1&e&&t._UZ(0,"span",14)}function K(e,a){1&e&&(t.TgZ(0,"span"),t._uU(1,"Update"),t.qZA())}function $(e,a){1&e&&(t.TgZ(0,"span"),t._uU(1,"Save"),t.qZA())}const v=function(e){return{"is-invalid":e}};let y=(()=>{class e{constructor(n,r,i,c,Z){this.formBuilder=n,this.route=r,this.router=i,this.categoryService=c,this.alertService=Z,this.loading=!1,this.submitting=!1,this.submitted=!1,this.options={autoClose:!0,keepAfterRouteChange:!0}}ngOnInit(){this.id=this.route.snapshot.params.id,this.form=this.formBuilder.group({name:["",s.kI.required],code:["",s.kI.required],description:[""],status:[R.qb.ENABLED,s.kI.required]}),this.title="Add Category",this.id&&(this.title="Edit Category",this.loading=!0,this.categoryService.getById(this.id).pipe((0,h.P)()).subscribe(n=>{this.form.patchValue(n),this.loading=!1}))}get f(){return this.form.controls}onSubmit(){this.submitted=!0,this.alertService.clear(),!this.form.invalid&&(this.submitting=!0,this.saveCategory().pipe((0,h.P)()).subscribe({next:()=>{this.alertService.success("Category saved",this.options),this.router.navigateByUrl("/categorys")},error:n=>{this.alertService.error(n),this.submitting=!1}}))}saveCategory(){return this.id?this.categoryService.update(this.id,this.form.value):this.categoryService.create(this.form.value)}static#t=this.\u0275fac=function(r){return new(r||e)(t.Y36(s.qu),t.Y36(u.gz),t.Y36(u.F0),t.Y36(H.HE),t.Y36(G.c))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["ng-component"]],standalone:!0,features:[t.jDz],decls:37,vars:15,consts:[[3,"formGroup","ngSubmit"],[2,"margin-top","1%","margin-left","1%"],[1,"mat-50"],["type","text","formControlName","name","matInput","",3,"ngClass"],[4,"ngIf"],["type","text","formControlName","code","matInput","",3,"ngClass"],["formControlName","description","matInput",""],["matNativeControl","","required","","formControlName","status","matInput",""],["value","Enabled"],["value","Disabled"],[2,"margin","2%","text-align","right"],["mat-raised-button","","type","submit","color","primary",3,"disabled"],["class","spinner-border spinner-border-sm me-1",4,"ngIf"],["routerLink","/categorys",1,"btn","btn-link"],[1,"spinner-border","spinner-border-sm","me-1"]],template:function(r,i){1&r&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return i.onSubmit()}),t.TgZ(1,"mat-card")(2,"mat-card-header")(3,"h2",1),t._uU(4),t.qZA()(),t.TgZ(5,"mat-card-content")(6,"mat-form-field",2)(7,"mat-label"),t._uU(8,"Name"),t.qZA(),t._UZ(9,"input",3),t.YNc(10,j,2,1,"mat-error",4),t.qZA(),t.TgZ(11,"mat-form-field",2)(12,"mat-label"),t._uU(13,"Code"),t.qZA(),t._UZ(14,"input",5),t.YNc(15,w,2,1,"mat-error",4),t.qZA(),t.TgZ(16,"mat-form-field",2)(17,"mat-label"),t._uU(18,"Description"),t.qZA(),t._UZ(19,"textarea",6),t.qZA(),t.TgZ(20,"mat-form-field",2)(21,"mat-label"),t._uU(22,"Status"),t.qZA(),t.TgZ(23,"select",7)(24,"option",8),t._uU(25,"Enabled"),t.qZA(),t.TgZ(26,"option",9),t._uU(27,"Disabled"),t.qZA()(),t.YNc(28,X,2,1,"mat-error",4),t.qZA()(),t.TgZ(29,"mat-card-footer")(30,"div",10)(31,"button",11),t.YNc(32,F,1,0,"span",12),t.YNc(33,K,2,0,"span",4),t.YNc(34,$,2,0,"span",4),t.qZA(),t.TgZ(35,"a",13),t._uU(36,"Cancel"),t.qZA()()()()()),2&r&&(t.Q6J("formGroup",i.form),t.xp6(4),t.Oqu(i.title),t.xp6(5),t.Q6J("ngClass",t.VKq(11,v,i.submitted&&i.f.name.errors)),t.xp6(1),t.Q6J("ngIf",i.submitted&&i.f.name.errors),t.xp6(4),t.Q6J("ngClass",t.VKq(13,v,i.submitted&&i.f.code.errors)),t.xp6(1),t.Q6J("ngIf",i.submitted&&i.f.code.errors),t.xp6(13),t.Q6J("ngIf",i.submitted&&i.f.status.errors),t.xp6(3),t.Q6J("disabled",i.submitting),t.xp6(1),t.Q6J("ngIf",i.submitting),t.xp6(1),t.Q6J("ngIf",i.id),t.xp6(1),t.Q6J("ngIf",!i.id))},dependencies:[A.O5,s.UX,s._Y,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.JL,s.Q7,s.sg,s.u,A.mk,u.rH,d.QW,d.a8,d.dn,d.rt,d.dk,l.lN,l.KE,l.hX,l.TO,f.c,f.Nt,p.ot,p.lW,B.LD],styles:["mat-card[_ngcontent-%COMP%]{margin:2%;text-align:left}.mat-mdc-form-field[_ngcontent-%COMP%]{width:98%;margin:1%}.mat-50[_ngcontent-%COMP%]{width:48%;margin:1%}.mat-column-name[_ngcontent-%COMP%], .mat-column-description[_ngcontent-%COMP%]{width:20%}"]})}return e})();const V=[{path:"",component:P},{path:"add",component:y},{path:"edit/:id",component:y}]}}]);