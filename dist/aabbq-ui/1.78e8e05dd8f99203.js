"use strict";(self.webpackChunkaabbq_ui=self.webpackChunkaabbq_ui||[]).push([[1],{6001:(dt,_,a)=>{a.r(_),a.d(_,{PRODUCTS_ROUTES:()=>mt});var p=a(2787),g=a(1374),s=a(5195),c=a(2296),l=a(2032),u=a(9157),m=a(5313),h=a(3365),f=a(3566),T=a(617),v=a(3307),t=a(5879),U=a(1438);function x(e,o){1&e&&(t.TgZ(0,"th",19),t._uU(1," ID "),t.qZA())}function N(e,o){if(1&e&&(t.TgZ(0,"td",20),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij(" ",n.id," ")}}function b(e,o){1&e&&(t.TgZ(0,"th",19),t._uU(1," Name "),t.qZA())}function y(e,o){if(1&e&&(t.TgZ(0,"td",20),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij(" ",n.name," ")}}function Y(e,o){1&e&&(t.TgZ(0,"th",19),t._uU(1," Description "),t.qZA())}function Q(e,o){if(1&e&&(t.TgZ(0,"td",20),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij(" ",n.description.length>40?n.description.slice(0,80)+"...":n.description," ")}}function L(e,o){1&e&&(t.TgZ(0,"th",19),t._uU(1," UOM "),t.qZA())}function S(e,o){if(1&e&&(t.TgZ(0,"td",20),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij(" ",n.uom," ")}}function E(e,o){1&e&&(t.TgZ(0,"th",19),t._uU(1," Qty "),t.qZA())}function I(e,o){if(1&e&&(t.TgZ(0,"td",20),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij(" ",n.qty," ")}}function O(e,o){1&e&&(t.TgZ(0,"th",19),t._uU(1," Status "),t.qZA())}function J(e,o){if(1&e&&(t.TgZ(0,"td",20),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij(" ",n.status," ")}}function D(e,o){1&e&&(t.TgZ(0,"th",21),t._uU(1," Action "),t.qZA())}function P(e,o){if(1&e&&(t.TgZ(0,"td",20)(1,"a",22),t._uU(2,"Edit"),t.qZA()()),2&e){const n=o.$implicit;t.xp6(1),t.MGl("routerLink","edit/",n.id,"")}}function M(e,o){1&e&&t._UZ(0,"tr",23)}function B(e,o){1&e&&t._UZ(0,"tr",24)}const R=function(){return[10,20,50]};let j=(()=>{class e{constructor(n){this.productService=n,this.displayedColumns=["id","name","description","uom","qty","status","action"]}ngOnInit(){this.getProducts()}getProducts(){this.productService.getAll().pipe((0,g.P)()).subscribe(n=>{this.products=n,this.dataSource=new m.by(this.products),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}filterChange(n){this.dataSource.filter=n.target.value}exportTable(){v.E.exportTableToExcel("products","Products")}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(U.M))},e.\u0275cmp=t.Xpm({type:e,selectors:[["ng-component"]],viewQuery:function(n,i){if(1&n&&(t.Gf(h.NW,5),t.Gf(f.YE,5)),2&n){let d;t.iGM(d=t.CRH())&&(i.paginator=d.first),t.iGM(d=t.CRH())&&(i.sort=d.first)}},standalone:!0,features:[t.jDz],decls:40,vars:6,consts:[[2,"margin","1%"],[2,"margin-top","1%","margin-left","1%"],["matInput","","placeholder","Search here...",3,"keyup"],["routerLink","add","mat-raised-button","","color","primary",2,"margin-left","74%"],["mat-raised-button","","color","warn",2,"margin-left","1%",3,"click"],["id","products","mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","id"],["mat-sort-header","","mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","description"],["matColumnDef","uom"],["matColumnDef","qty"],["matColumnDef","status"],["matColumnDef","action"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSize","pageSizeOptions"],["mat-sort-header","","mat-header-cell",""],["mat-cell",""],["mat-header-cell",""],[1,"btn","btn-sm","btn-primary","me-1",3,"routerLink"],["mat-header-row",""],["mat-row",""]],template:function(n,i){1&n&&(t.TgZ(0,"mat-card",0)(1,"h2",1),t._uU(2,"Products"),t.qZA(),t.TgZ(3,"mat-card-header")(4,"mat-form-field")(5,"input",2),t.NdJ("keyup",function(Z){return i.filterChange(Z)}),t.qZA()(),t.TgZ(6,"button",3),t._uU(7,"Create"),t.qZA(),t.TgZ(8,"button",4),t.NdJ("click",function(){return i.exportTable()}),t.TgZ(9,"mat-icon"),t._uU(10,"grid_on"),t.qZA(),t._uU(11,"Export"),t.qZA()(),t.TgZ(12,"mat-card-content")(13,"table",5),t.ynx(14,6),t.YNc(15,x,2,0,"th",7),t.YNc(16,N,2,1,"td",8),t.BQk(),t.ynx(17,9),t.YNc(18,b,2,0,"th",7),t.YNc(19,y,2,1,"td",8),t.BQk(),t.ynx(20,10),t.YNc(21,Y,2,0,"th",7),t.YNc(22,Q,2,1,"td",8),t.BQk(),t.ynx(23,11),t.YNc(24,L,2,0,"th",7),t.YNc(25,S,2,1,"td",8),t.BQk(),t.ynx(26,12),t.YNc(27,E,2,0,"th",7),t.YNc(28,I,2,1,"td",8),t.BQk(),t.ynx(29,13),t.YNc(30,O,2,0,"th",7),t.YNc(31,J,2,1,"td",8),t.BQk(),t.ynx(32,14),t.YNc(33,D,2,0,"th",15),t.YNc(34,P,3,1,"td",8),t.BQk(),t.YNc(35,M,1,0,"tr",16),t.YNc(36,B,1,0,"tr",17),t.qZA()(),t._UZ(37,"br"),t.TgZ(38,"mat-card-footer"),t._UZ(39,"mat-paginator",18),t.qZA()()),2&n&&(t.xp6(13),t.Q6J("dataSource",i.dataSource),t.xp6(22),t.Q6J("matHeaderRowDef",i.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns),t.xp6(3),t.Q6J("pageSize",10)("pageSizeOptions",t.DdM(5,R)))},dependencies:[p.rH,s.QW,s.a8,s.dn,s.rt,s.dk,c.ot,c.lW,l.c,l.Nt,u.KE,u.lN,m.p0,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,h.TU,h.NW,f.JX,f.YE,f.nU,T.Ps,T.Hw],styles:["mat-card[_ngcontent-%COMP%]{margin:2%;text-align:left}.mat-mdc-form-field[_ngcontent-%COMP%]{width:98%;margin:1%}.mat-50[_ngcontent-%COMP%]{width:48%;margin:1%}.mat-column-name[_ngcontent-%COMP%], .mat-column-description[_ngcontent-%COMP%]{width:20%}"]}),e})();var C=a(6814),r=a(6223),w=a(8525),k=a(6517),z=a(144),H=a(2048),G=a(9744);const A=function(e){return{"is-invalid":e}};function X(e,o){if(1&e&&(t.TgZ(0,"span"),t._UZ(1,"input",20),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngClass",t.VKq(1,A,n.submitted&&n.f.name.errors))}}function K(e,o){1&e&&(t.TgZ(0,"span"),t._UZ(1,"input",21),t.qZA())}function $(e,o){1&e&&(t.TgZ(0,"span"),t._uU(1,"Name is required"),t.qZA())}function W(e,o){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,$,2,0,"span",3),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.f.name.errors.required)}}function F(e,o){1&e&&(t.TgZ(0,"span"),t._uU(1,"UOM is required"),t.qZA())}function V(e,o){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,F,2,0,"span",3),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.f.uom.errors.required)}}function tt(e,o){1&e&&(t.TgZ(0,"span"),t._uU(1,"Quantity is required"),t.qZA())}function et(e,o){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,tt,2,0,"span",3),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.f.qty.errors.required)}}function nt(e,o){1&e&&(t.TgZ(0,"span"),t._uU(1,"Status is required"),t.qZA())}function ot(e,o){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,nt,2,0,"span",3),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.f.status.errors.required)}}function it(e,o){1&e&&t._UZ(0,"span",22)}function at(e,o){1&e&&(t.TgZ(0,"span"),t._uU(1,"Update"),t.qZA())}function rt(e,o){1&e&&(t.TgZ(0,"span"),t._uU(1,"Save"),t.qZA())}let q=(()=>{class e{constructor(n,i,d,Z,st){this.formBuilder=n,this.route=i,this.router=d,this.productService=Z,this.alertService=st,this.loading=!1,this.submitting=!1,this.submitted=!1,this.options={autoClose:!0,keepAfterRouteChange:!0}}ngOnInit(){this.id=this.route.snapshot.params.id,this.form=this.formBuilder.group({name:["",r.kI.required],description:[""],uom:[z.v.PC,r.kI.required],status:[k.q.ENABLED,r.kI.required],qty:[0]}),this.title="Add Product",this.id&&(this.title="Edit Product",this.loading=!0,this.productService.getById(this.id).pipe((0,g.P)()).subscribe(n=>{this.form.patchValue(n),this.loading=!1}))}get f(){return this.form.controls}onSubmit(){this.submitted=!0,this.alertService.clear(),!this.form.invalid&&(this.submitting=!0,this.saveProduct().pipe((0,g.P)()).subscribe({next:()=>{this.alertService.success("Product saved",this.options),this.router.navigateByUrl("/products")},error:n=>{this.alertService.error(n,this.options),this.submitting=!1}}))}saveProduct(){return this.id?this.productService.update(this.id,this.form.value):this.productService.create(this.form.value)}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(r.qu),t.Y36(p.gz),t.Y36(p.F0),t.Y36(H.M5),t.Y36(G.c))},e.\u0275cmp=t.Xpm({type:e,selectors:[["ng-component"]],standalone:!0,features:[t.jDz],decls:54,vars:15,consts:[[3,"formGroup","ngSubmit"],[2,"margin-top","1%","margin-left","1%"],[1,"mat-50"],[4,"ngIf"],["matNativeControl","","required","","formControlName","uom","matInput",""],["value","PC"],["value","LTR"],["value","ML"],["value","BOX"],["value","KILO"],["formControlName","description","matInput",""],["type","number","formControlName","qty","matInput","","min","0","OnlyNumber","true",3,"ngClass"],["input",""],["matNativeControl","","required","","formControlName","status","matInput",""],["value","Enabled"],["value","Disabled"],[2,"margin","2%","text-align","right"],["mat-raised-button","","type","submit","color","primary",3,"disabled"],["class","spinner-border spinner-border-sm me-1",4,"ngIf"],["routerLink","/products",1,"btn","btn-link"],["type","text","formControlName","name","matInput","",3,"ngClass"],["formControlName","name","matInput","","readonly",""],[1,"spinner-border","spinner-border-sm","me-1"]],template:function(n,i){1&n&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return i.onSubmit()}),t.TgZ(1,"mat-card")(2,"mat-card-header")(3,"h2",1),t._uU(4),t.qZA()(),t.TgZ(5,"mat-card-content")(6,"mat-form-field",2)(7,"mat-label"),t._uU(8,"Name"),t.qZA(),t.YNc(9,X,2,3,"span",3),t.YNc(10,K,2,0,"span",3),t.YNc(11,W,2,1,"mat-error",3),t.qZA(),t.TgZ(12,"mat-form-field",2)(13,"mat-label"),t._uU(14,"UOM"),t.qZA(),t.TgZ(15,"select",4)(16,"option",5),t._uU(17,"PC"),t.qZA(),t.TgZ(18,"option",6),t._uU(19,"LTR"),t.qZA(),t.TgZ(20,"option",7),t._uU(21,"ML"),t.qZA(),t.TgZ(22,"option",8),t._uU(23,"BOX"),t.qZA(),t.TgZ(24,"option",9),t._uU(25,"KILO"),t.qZA()(),t.YNc(26,V,2,1,"mat-error",3),t.qZA(),t.TgZ(27,"mat-form-field",2)(28,"mat-label"),t._uU(29,"Description"),t.qZA(),t._UZ(30,"textarea",10),t.qZA(),t.TgZ(31,"mat-form-field",2)(32,"mat-label"),t._uU(33,"Quantity"),t.qZA(),t._UZ(34,"input",11,12),t.YNc(36,et,2,1,"mat-error",3),t.qZA(),t.TgZ(37,"mat-form-field",2)(38,"mat-label"),t._uU(39,"Status"),t.qZA(),t.TgZ(40,"select",13)(41,"option",14),t._uU(42,"Enabled"),t.qZA(),t.TgZ(43,"option",15),t._uU(44,"Disabled"),t.qZA()(),t.YNc(45,ot,2,1,"mat-error",3),t.qZA()(),t.TgZ(46,"mat-card-footer")(47,"div",16)(48,"button",17),t.YNc(49,it,1,0,"span",18),t.YNc(50,at,2,0,"span",3),t.YNc(51,rt,2,0,"span",3),t.qZA(),t.TgZ(52,"a",19),t._uU(53,"Cancel"),t.qZA()()()()()),2&n&&(t.Q6J("formGroup",i.form),t.xp6(4),t.Oqu(i.title),t.xp6(5),t.Q6J("ngIf",!i.id),t.xp6(1),t.Q6J("ngIf",i.id),t.xp6(1),t.Q6J("ngIf",i.submitted&&i.f.name.errors),t.xp6(15),t.Q6J("ngIf",i.submitted&&i.f.uom.errors),t.xp6(8),t.Q6J("ngClass",t.VKq(13,A,i.submitted&&i.f.qty.errors)),t.xp6(2),t.Q6J("ngIf",i.submitted&&i.f.qty.errors),t.xp6(9),t.Q6J("ngIf",i.submitted&&i.f.status.errors),t.xp6(3),t.Q6J("disabled",i.submitting),t.xp6(1),t.Q6J("ngIf",i.submitting),t.xp6(1),t.Q6J("ngIf",i.id),t.xp6(1),t.Q6J("ngIf",!i.id))},dependencies:[C.O5,r.UX,r._Y,r.YN,r.Kr,r.Fj,r.wV,r.EJ,r.JJ,r.JL,r.Q7,r.qQ,r.sg,r.u,C.mk,p.rH,s.QW,s.a8,s.dn,s.rt,s.dk,u.lN,u.KE,u.hX,u.TO,l.c,l.Nt,c.ot,c.lW,w.LD],styles:["mat-card[_ngcontent-%COMP%]{margin:2%;text-align:left}.mat-mdc-form-field[_ngcontent-%COMP%]{width:98%;margin:1%}.mat-50[_ngcontent-%COMP%]{width:48%;margin:1%}.mat-column-name[_ngcontent-%COMP%], .mat-column-description[_ngcontent-%COMP%]{width:20%}"]}),e})();const mt=[{path:"",component:j},{path:"add",component:q},{path:"edit/:id",component:q}]}}]);