"use strict";(self.webpackChunkaabbq_ui=self.webpackChunkaabbq_ui||[]).push([[250],{4250:(nt,C,a)=>{a.r(C),a.d(C,{ITEMS_ROUTES:()=>tt});var u=a(2787),g=a(1374),s=a(5195),c=a(2296),p=a(2032),l=a(9157),m=a(5313),h=a(3365),f=a(3566),T=a(617),U=a(3307),t=a(5879),b=a(1002);function N(e,i){1&e&&(t.TgZ(0,"th",18),t._uU(1," ID "),t.qZA())}function x(e,i){if(1&e&&(t.TgZ(0,"td",19),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.id," ")}}function q(e,i){1&e&&(t.TgZ(0,"th",18),t._uU(1," Name "),t.qZA())}function I(e,i){if(1&e&&(t.TgZ(0,"td",19),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.name," ")}}function S(e,i){1&e&&(t.TgZ(0,"th",18),t._uU(1," Description "),t.qZA())}function Y(e,i){if(1&e&&(t.TgZ(0,"td",19),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.description.length>40?n.description.slice(0,80)+"...":n.description," ")}}function E(e,i){1&e&&(t.TgZ(0,"th",18),t._uU(1," UOM "),t.qZA())}function L(e,i){if(1&e&&(t.TgZ(0,"td",19),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.uom," ")}}function y(e,i){1&e&&(t.TgZ(0,"th",18),t._uU(1," Status "),t.qZA())}function Q(e,i){if(1&e&&(t.TgZ(0,"td",19),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.status," ")}}function O(e,i){1&e&&(t.TgZ(0,"th",20),t._uU(1," Action "),t.qZA())}function D(e,i){if(1&e&&(t.TgZ(0,"td",19)(1,"a",21),t._uU(2,"Edit"),t.qZA()()),2&e){const n=i.$implicit;t.xp6(1),t.MGl("routerLink","edit/",n.id,"")}}function J(e,i){1&e&&t._UZ(0,"tr",22)}function M(e,i){1&e&&t._UZ(0,"tr",23)}const P=function(){return[10,20,50]};let B=(()=>{class e{constructor(n){this.itemService=n,this.displayedColumns=["id","name","description","uom","status","action"]}ngOnInit(){this.getItems()}getItems(){this.itemService.getAll().pipe((0,g.P)()).subscribe(n=>{this.items=n,this.dataSource=new m.by(this.items),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}filterChange(n){this.dataSource.filter=n.target.value}exportTable(){U.E.exportTableToExcel("items","Items")}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(b.e))},e.\u0275cmp=t.Xpm({type:e,selectors:[["ng-component"]],viewQuery:function(n,o){if(1&n&&(t.Gf(h.NW,5),t.Gf(f.YE,5)),2&n){let d;t.iGM(d=t.CRH())&&(o.paginator=d.first),t.iGM(d=t.CRH())&&(o.sort=d.first)}},standalone:!0,features:[t.jDz],decls:37,vars:6,consts:[[2,"margin","1%"],[2,"margin-top","1%","margin-left","1%"],["matInput","","placeholder","Search here...",3,"keyup"],["routerLink","add","mat-raised-button","","color","primary",2,"margin-left","74%"],["mat-raised-button","","color","warn",2,"margin-left","1%",3,"click"],["id","items","mat-table","","matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","id"],["mat-sort-header","","mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","description"],["matColumnDef","uom"],["matColumnDef","status"],["matColumnDef","action"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSize","pageSizeOptions"],["mat-sort-header","","mat-header-cell",""],["mat-cell",""],["mat-header-cell",""],[1,"btn","btn-sm","btn-primary","me-1",3,"routerLink"],["mat-header-row",""],["mat-row",""]],template:function(n,o){1&n&&(t.TgZ(0,"mat-card",0)(1,"h2",1),t._uU(2,"Items"),t.qZA(),t.TgZ(3,"mat-card-header")(4,"mat-form-field")(5,"input",2),t.NdJ("keyup",function(Z){return o.filterChange(Z)}),t.qZA()(),t.TgZ(6,"button",3),t._uU(7,"Create"),t.qZA(),t.TgZ(8,"button",4),t.NdJ("click",function(){return o.exportTable()}),t.TgZ(9,"mat-icon"),t._uU(10,"grid_on"),t.qZA(),t._uU(11,"Export"),t.qZA()(),t.TgZ(12,"mat-card-content")(13,"table",5),t.ynx(14,6),t.YNc(15,N,2,0,"th",7),t.YNc(16,x,2,1,"td",8),t.BQk(),t.ynx(17,9),t.YNc(18,q,2,0,"th",7),t.YNc(19,I,2,1,"td",8),t.BQk(),t.ynx(20,10),t.YNc(21,S,2,0,"th",7),t.YNc(22,Y,2,1,"td",8),t.BQk(),t.ynx(23,11),t.YNc(24,E,2,0,"th",7),t.YNc(25,L,2,1,"td",8),t.BQk(),t.ynx(26,12),t.YNc(27,y,2,0,"th",7),t.YNc(28,Q,2,1,"td",8),t.BQk(),t.ynx(29,13),t.YNc(30,O,2,0,"th",14),t.YNc(31,D,3,1,"td",8),t.BQk(),t.YNc(32,J,1,0,"tr",15),t.YNc(33,M,1,0,"tr",16),t.qZA()(),t._UZ(34,"br"),t.TgZ(35,"mat-card-footer"),t._UZ(36,"mat-paginator",17),t.qZA()()),2&n&&(t.xp6(13),t.Q6J("dataSource",o.dataSource),t.xp6(19),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(3),t.Q6J("pageSize",10)("pageSizeOptions",t.DdM(5,P)))},dependencies:[u.rH,s.QW,s.a8,s.dn,s.rt,s.dk,c.ot,c.lW,p.c,p.Nt,l.KE,l.lN,m.p0,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,h.TU,h.NW,f.JX,f.YE,f.nU,T.Ps,T.Hw],styles:["mat-card[_ngcontent-%COMP%]{margin:2%;text-align:left}.mat-mdc-form-field[_ngcontent-%COMP%]{width:98%;margin:1%}.mat-50[_ngcontent-%COMP%]{width:48%;margin:1%}.mat-column-name[_ngcontent-%COMP%], .mat-column-description[_ngcontent-%COMP%]{width:20%}"]}),e})();var _=a(6814),r=a(6223),j=a(8525),z=a(6517),H=a(144),A=a(2048);function R(e,i){1&e&&(t.TgZ(0,"span"),t._uU(1,"Name is required"),t.qZA())}function k(e,i){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,R,2,0,"span",4),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.f.name.errors.required)}}function w(e,i){1&e&&(t.TgZ(0,"span"),t._uU(1,"UOM is required"),t.qZA())}function G(e,i){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,w,2,0,"span",4),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.f.uom.errors.required)}}function X(e,i){1&e&&(t.TgZ(0,"span"),t._uU(1,"Status is required"),t.qZA())}function K(e,i){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,X,2,0,"span",4),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.f.status.errors.required)}}function W(e,i){1&e&&t._UZ(0,"span",17)}function $(e,i){1&e&&(t.TgZ(0,"span"),t._uU(1,"Update"),t.qZA())}function F(e,i){1&e&&(t.TgZ(0,"span"),t._uU(1,"Save"),t.qZA())}const V=function(e){return{"is-invalid":e}};let v=(()=>{class e{constructor(n,o,d,Z,et){this.formBuilder=n,this.route=o,this.router=d,this.itemService=Z,this.alertService=et,this.loading=!1,this.submitting=!1,this.submitted=!1}ngOnInit(){this.id=this.route.snapshot.params.id,this.form=this.formBuilder.group({name:["",r.kI.required],description:[""],uom:[H.v.PC,r.kI.required],status:[z.q.ENABLED,r.kI.required]}),this.title="Add Item",this.id&&(this.title="Edit Item",this.loading=!0,this.itemService.getById(this.id).pipe((0,g.P)()).subscribe(n=>{this.form.patchValue(n),this.loading=!1}))}get f(){return this.form.controls}onSubmit(){this.submitted=!0,this.alertService.clear(),!this.form.invalid&&(this.submitting=!0,this.saveItem().pipe((0,g.P)()).subscribe({next:()=>{this.alertService.success("Item saved",!0),this.router.navigateByUrl("/items")},error:n=>{this.alertService.error(n),this.submitting=!1}}))}saveItem(){return this.id?this.itemService.update(this.id,this.form.value):this.itemService.create(this.form.value)}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(r.qu),t.Y36(u.gz),t.Y36(u.F0),t.Y36(A.en),t.Y36(A.c9))},e.\u0275cmp=t.Xpm({type:e,selectors:[["ng-component"]],standalone:!0,features:[t.jDz],decls:43,vars:12,consts:[[3,"formGroup","ngSubmit"],[2,"margin-top","1%","margin-left","1%"],[1,"mat-50"],["type","text","formControlName","name","matInput","",3,"ngClass"],[4,"ngIf"],["matNativeControl","","required","","formControlName","uom","matInput",""],["value","PC"],["value","BOX"],["value","KILO"],["formControlName","description","matInput",""],["matNativeControl","","required","","formControlName","status","matInput",""],["value","Enabled"],["value","Disabled"],[2,"margin","2%","text-align","right"],["mat-raised-button","","type","submit","color","primary",3,"disabled"],["class","spinner-border spinner-border-sm me-1",4,"ngIf"],["routerLink","/items",1,"btn","btn-link"],[1,"spinner-border","spinner-border-sm","me-1"]],template:function(n,o){1&n&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return o.onSubmit()}),t.TgZ(1,"mat-card")(2,"mat-card-header")(3,"h2",1),t._uU(4),t.qZA()(),t.TgZ(5,"mat-card-content")(6,"mat-form-field",2)(7,"mat-label"),t._uU(8,"Name"),t.qZA(),t._UZ(9,"input",3),t.YNc(10,k,2,1,"mat-error",4),t.qZA(),t.TgZ(11,"mat-form-field",2)(12,"mat-label"),t._uU(13,"UOM"),t.qZA(),t.TgZ(14,"select",5)(15,"option",6),t._uU(16,"PC"),t.qZA(),t.TgZ(17,"option",7),t._uU(18,"BOX"),t.qZA(),t.TgZ(19,"option",8),t._uU(20,"KILO"),t.qZA()(),t.YNc(21,G,2,1,"mat-error",4),t.qZA(),t.TgZ(22,"mat-form-field",2)(23,"mat-label"),t._uU(24,"Description"),t.qZA(),t._UZ(25,"textarea",9),t.qZA(),t.TgZ(26,"mat-form-field",2)(27,"mat-label"),t._uU(28,"Status"),t.qZA(),t.TgZ(29,"select",10)(30,"option",11),t._uU(31,"Enabled"),t.qZA(),t.TgZ(32,"option",12),t._uU(33,"Disabled"),t.qZA()(),t.YNc(34,K,2,1,"mat-error",4),t.qZA()(),t.TgZ(35,"mat-card-footer")(36,"div",13)(37,"button",14),t.YNc(38,W,1,0,"span",15),t.YNc(39,$,2,0,"span",4),t.YNc(40,F,2,0,"span",4),t.qZA(),t.TgZ(41,"a",16),t._uU(42,"Cancel"),t.qZA()()()()()),2&n&&(t.Q6J("formGroup",o.form),t.xp6(4),t.Oqu(o.title),t.xp6(5),t.Q6J("ngClass",t.VKq(10,V,o.submitted&&o.f.name.errors)),t.xp6(1),t.Q6J("ngIf",o.submitted&&o.f.name.errors),t.xp6(11),t.Q6J("ngIf",o.submitted&&o.f.uom.errors),t.xp6(13),t.Q6J("ngIf",o.submitted&&o.f.status.errors),t.xp6(3),t.Q6J("disabled",o.submitting),t.xp6(1),t.Q6J("ngIf",o.submitting),t.xp6(1),t.Q6J("ngIf",o.id),t.xp6(1),t.Q6J("ngIf",!o.id))},dependencies:[_.O5,r.UX,r._Y,r.YN,r.Kr,r.Fj,r.EJ,r.JJ,r.JL,r.Q7,r.sg,r.u,_.mk,u.rH,s.QW,s.a8,s.dn,s.rt,s.dk,l.lN,l.KE,l.hX,l.TO,p.c,p.Nt,c.ot,c.lW,j.LD],styles:["mat-card[_ngcontent-%COMP%]{margin:2%;text-align:left}.mat-mdc-form-field[_ngcontent-%COMP%]{width:98%;margin:1%}.mat-50[_ngcontent-%COMP%]{width:48%;margin:1%}.mat-column-name[_ngcontent-%COMP%], .mat-column-description[_ngcontent-%COMP%]{width:20%}"]}),e})();const tt=[{path:"",component:B},{path:"add",component:v},{path:"edit/:id",component:v}]}}]);